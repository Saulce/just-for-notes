# 汇编语言 Assembly

​	用来开发底层如计算机及外围设备的驱动程序的助记符。用来学会底层的程序调试和错误分析方法。

​	用于嵌入式系统、操作系统内核

### 格式

1.指令语句	2.伪指令语句

地址信息、控制信息、数据信息	

### 地址空间

#### 内存地址空间

CPU地址总线宽度为N，寻址空间（寻址能力）为2^N B，即内存地址空间伪2^N B。

将各类存储器看作一个逻辑存储器——统一编址，方便，每个物理存储器占有一段逻辑地址空间。

#### 逻辑地址空间

8086为例：

| 主存储器地址空间        640K        RAM |
| :-------------------------------------- |
| 显存地址空间        128K        RAM     |
| 各类ROM地址空间        256K             |

通用寄存器：AX、BX、CX、DX

变址寄存器：SI、DI

指针寄存器：SP、BP

指令指针寄存器：IP

段寄存器：CS、SS、DS、ES

标志寄存器：PSW



<font color=red>寄存器位数问题？——兼容性</font>

通用寄存器均可分为两个独立的8位寄存器使用，如：AX可分为AH、AL

<font color=red>8086有20位地址总线，寻址能力为1M，8086的CPU中的寄存器最大宽度16位，寻址能力只有64K，如何处理矛盾</font>

解：用两个16位地址（段地址、偏移地址）合成一个20位的物理地址。物理地址 = 段地址 * 16(左移4位) + 偏移地址



#### 内存表示

​	段地址（段） ：偏移地址（单元）	注：默认为16进制

用专门的寄存器存放段地址：4个段寄存器  CS、DS、SS、ES



AX = BX <--> mov ax,bx	AX = AX + BX <--> add ax,bx	注：汇编不区分大小写

### DEBUG

​	调试程序。可以查看CPU各寄存器中的内容、内存情况并跟踪程序运行

-r	查看、改变CPU寄存器的内容	-r [寄存器名] 改变的内容

-d	查看内存中的内容	每次显示128B(8*16)	-d []:[]  指定结尾偏移地址（f为1行）

-e	改变内存中的内容	[段地址]:[偏移地址] 数据1 数据2……

-u	将内存中的机器指令翻译成汇编指令

-a	以汇编指令的格式在内存中写入机器指令	-a []:[]  选定地址

-t	执行机器指令	执行CS:IP处的指令

…

debug	启动debug程序

-q	退出